import{J as R,A as n,_ as C,o as r,a,b as e,d as y,K as N,g as b,t as _,F as x,f as B,T as j,h as V,i as p,j as P,l as I,O as A,v as L,r as w,E as f,u as T,e as E,P as h,R as F,z as G,B as q}from"./index.9f11d40c.js";class z{constructor(s){this.id=s.id,this.email=s.email,this.name=s.name,this.picture=s.picture,this.coverImg=s.coverImg,this.bio=s.bio,this.location=s.location}}class H{async getProfileById(s){const l=await R.get(`api/profiles/${s}`);n.activeProfile=new z(l.data)}}const J=new H;const g={setup(){const o=j(0),s=T(),l=E();async function i(){try{await J.getProfileById(l.params.profileId)}catch(c){h.error("[Getting profile by Id]",c),s.push({name:"Home"})}}async function m(){try{await P.getProfileDecks(l.params.profileId),I.log(l.params.profileId)}catch(c){h.error("[getting profile decks]",c)}}async function v(){try{await F.getGuildProfile(l.params.profileId)}catch(c){h.error(c)}}return V(()=>{i(),m(),v()}),{route:l,account:p(()=>n.account),profile:p(()=>n.activeProfile),decks:p(()=>n.profileDecks),cover:p(()=>{var c;return`url(${((c=n.activeProfile)==null?void 0:c.coverImg)||"https://cdn.pixabay.com/photo/2017/07/16/17/33/background-2509983_1280.jpg"})`}),scrollLeft(){let c=document.querySelector(".deck-cards-container");o.value>100&&(o.value-=1e3),c.scrollTo({left:o.value,behavior:"smooth"})},scrollRight(){let c=document.querySelector(".deck-cards-container");o.value<=2e3&&(o.value+=1e3),c.scrollTo({left:o.value,behavior:"smooth"})},async deckDetails(c){var u;try{await P.setActiveDeck(c),s.push({name:"DeckDetails",params:{deckId:(u=n.activeDeck)==null?void 0:u.id}})}catch(t){I.log(t)}}}},components:{Navbar:A}},S=()=>{L(o=>({a6d42056:o.cover}))},D=g.setup;g.setup=D?(o,s)=>(S(),D(o,s)):S;const K=g,d=o=>(G("data-v-52ea0f85"),o=o(),q(),o),M={class:"fixed-top"},O={class:"row cover-img"},Q={class:"col-4 profile-details anchor-point"},U={key:0,title:"Edit Account",class:"edit-btn"},W=d(()=>e("i",{class:"mdi mdi-pen p-1"},null,-1)),X=["src"],Y={class:"glass-card rounded p-3 my-3"},Z={class:"col-8 profile-decks"},$={class:"row align-items-center"},ee=d(()=>e("i",{class:"button-style mdi mdi-chevron-left"},null,-1)),te=[ee],se={class:"col-10 deck-container-bg rounded"},oe={class:"row deck-cards-container"},ce={class:"px-3 pt-3"},ie=["src"],re={key:1,src:"https://c1.scryfall.com/file/scryfall-card-backs/large/59/597b79b3-7d77-4261-871a-60dd17403388.jpg?1561757712",class:"img-fluid",alt:"..."},ae={class:"card-title text-center text-dark"},le={key:0,class:"card-img-top"},ne=d(()=>e("img",{src:"https://c1.scryfall.com/file/scryfall-card-backs/large/59/597b79b3-7d77-4261-871a-60dd17403388.jpg?1561757712",class:"",alt:"..."},null,-1)),de=[ne],_e={class:"card-body text-dark fs-5"},ue={class:"d-flex justify-content-between"},pe={key:0,class:"text-center"},fe=f(" Rating:"),he=d(()=>e("br",null,null,-1)),ge={key:1,class:"text-center"},me=f("Rating:"),ve=d(()=>e("br",null,null,-1)),ke=f("Not Rated"),ye=[me,ve,ke],be=["onClick"],xe=d(()=>e("i",{class:"button-style mdi mdi-chevron-right"},null,-1)),Pe=[xe];function Ie(o,s,l,i,m,v){const c=w("Navbar"),u=w("router-link");return r(),a(x,null,[e("header",M,[y(c)]),e("div",O,[e("div",Q,[i.profile.id==i.account.id?(r(),a("div",U,[y(u,{class:"bg-warning rounded-circle",to:{name:"Account"}},{default:N(()=>[W]),_:1})])):b("",!0),e("img",{class:"img-fluid profile-img",src:i.profile.picture,alt:""},null,8,X),e("div",Y,[e("h3",null,_(i.profile.name),1),e("p",null,_(i.profile.email),1),e("p",null,_(i.profile.bio),1)])]),e("div",Z,[e("div",$,[e("div",{class:"col-1 text-center",onClick:s[0]||(s[0]=(...t)=>i.scrollLeft&&i.scrollLeft(...t))},te),e("div",se,[e("div",oe,[(r(!0),a(x,null,B(i.decks,t=>{var k;return r(),a("div",{key:t.id,class:"card hero-img col-3 px-4 mx-2"},[e("div",ce,[t?(r(),a("img",{key:0,src:t==null?void 0:t.picture,class:"card-img-top img-max"},null,8,ie)):(r(),a("img",re))]),e("h5",ae,[e("b",null,_(t==null?void 0:t.name),1)]),t!=null&&t.picture?b("",!0):(r(),a("div",le,de)),e("div",_e,[e("span",ue,[t.avgRating?(r(),a("p",pe,[fe,he,f(_(((t==null?void 0:t.avgRating)/((k=t.rating)==null?void 0:k.length)).toFixed(1))+"/5 ",1)])):(r(),a("p",ge,ye)),e("button",{onClick:we=>i.deckDetails(t.id),class:"btn btn-outline-dark"}," Deck Details ",8,be)])])])}),128))])]),e("div",{class:"col-1 text-center",onClick:s[1]||(s[1]=(...t)=>i.scrollRight&&i.scrollRight(...t))},Pe)])])])],64)}const De=C(K,[["render",Ie],["__scopeId","data-v-52ea0f85"]]);export{De as default};
