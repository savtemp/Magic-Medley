import{_ as P,o as c,a,b as r,d as u,F as C,f as y,w as b,t as f,g as i,h as T,A as s,i as l,P as v,l as _,j as p,k as x,S as F,C as N,D as V,m as j,n as q,p as R,q as M,s as z,v as L,x as G,r as m,u as H,e as J,y as K,z as O,B as Q}from"./index.9f11d40c.js";const U="/assets/fancybanner.c7d12a27.png";const h={setup(){H(),J();function d(){try{K.getAccount}catch(t){_.error(t),v.toast(t.message,"error")}}async function n(){try{await x.getAccountCards()}catch(t){_.log("[getting all cards]",t),v.error(t)}}return T(()=>{s.activeDeck={},d(),n()}),{cards:l(()=>s.collection),decks:l(()=>s.decks),activeDeck:l(()=>s.activeDeck),deckCards:l(()=>s.deckCards),cover:l(()=>{var t;return`url(${(t=s.activeDeck)==null?void 0:t.picture})`}),activeCards:l(()=>s.activeProfile),displayCards:l(()=>{let t=[...s.deckCards];for(let e=0;e<t.length;e++){const g=t[e];g.quantity=1;for(let k=e+1;k<t.length;k++){const D=t[k];g.cardId==D.cardId&&(g.quantity++,t.splice(k,1),k--)}}return t}),setEditable(){s.activeDeck={}},noActive(){s.activeDeck={}},async deleteDeck(){try{if(!await v.confirm("Remove Deck?"))return;const e=s.activeDeck.id;_.log("Deck Id:",e),await p.deleteDeck(e),s.activeDeck={}}catch(t){_.error("[Deleting Deck]",t),v.toast(t.message,"error")}},async getAccountCards(){try{await x.getAccountCards()}catch(t){_.log("[getting all cards]",t),v.error(t)}},async getDecks(){try{const t=s.account.id;await p.getAccountDecks(t)}catch(t){_.error("[Getting Decks]",t),v.toast(t.message,"error")}}}},components:{SearchedCards:F,CollectionCard:N,DeckForm:V,Deck:j,DeckCard:q,DeckCardCanvas:R,CollectionPageNavbar:M,CollectionFilter:z}},w=()=>{L(d=>({"32ab3a12":d.cover}))},S=h.setup;h.setup=S?(d,n)=>(w(),S(d,n)):w;const W=h,X=d=>(O("data-v-14ba3a98"),d=d(),Q(),d),Y={class:"row collectionPageBg collectionPageViewHeight"},Z={class:"col-2 d-flex flex-column"},$={class:"col-8 px-0"},ee={class:"row align-items-center"},te={class:"col-12 mx-auto"},ce=G('<div class="row" data-v-14ba3a98><div class="myCollectionsBanner mx-auto col-12 col-lg-10 mt-4" data-v-14ba3a98><div class="row mx-auto" data-v-14ba3a98><div class="col-12" data-v-14ba3a98><h1 class="bannerFontSize text-center deckText" data-v-14ba3a98> My Collection </h1></div></div></div></div>',1),ae={class:"row mb-5"},oe=X(()=>r("div",{class:"col-12"},[r("div",{class:"row justify-content-center"})],-1)),se={key:0,class:"d-none d-md-block col-md-2 myDecksSideBar px-0"},re={class:"row mx-auto"},de={class:"row"},ne={class:"deckText mb-0 col-12"},ie={key:0,class:"col-12 deckText"},le={key:2,class:"img-fluid",src:U,alt:""},ke={key:3,class:"row mx-auto"},ve={class:"row fixed-bottom mx-auto justify-content-end px-0"},_e={key:2,"data-bs-toggle":"modal","data-bs-target":"#deck-form",class:"deckText col-1 editButton"};function ue(d,n,t,e,g,k){const D=m("CollectionPageNavbar"),A=m("CollectionCard"),I=m("DeckCardCanvas"),B=m("Deck"),E=m("DeckForm");return c(),a(C,null,[r("div",Y,[r("div",Z,[u(D)]),r("div",$,[r("div",ee,[r("div",te,[ce,r("div",ae,[oe,(c(!0),a(C,null,y(e.cards,o=>(c(),a("div",{key:o.id,class:"col-4 col-md-3"},[u(A,{card:o},null,8,["card"])]))),128))])])])]),e.decks?(c(),a("div",se,[r("div",re,[e.activeDeck.id?(c(),a("div",{key:0,onClick:n[0]||(n[0]=b((...o)=>e.noActive&&e.noActive(...o),["prevent"])),class:"deckImg col-11 mx-auto mt-1 selectable"},[r("div",de,[r("h5",ne,f(e.activeDeck.name),1),e.activeDeck.id?(c(),a("p",ie," Cards:"+f(" "+e.deckCards.length),1)):i("",!0)])])):i("",!0),e.activeDeck.id?(c(!0),a(C,{key:1},y(e.displayCards,o=>(c(),a("div",{key:o.id,class:"col-12 mx-auto position-relative"},[u(I,{card:o},null,8,["card"])]))),128)):i("",!0),e.activeDeck.id?i("",!0):(c(),a("img",le)),e.decks.length&&!e.activeDeck.id?(c(),a("div",ke,[(c(!0),a(C,null,y(e.decks,o=>(c(),a("div",{key:o.id,class:"col-12 col-md-12 mx-auto my-2"},[u(B,{deck:o},null,8,["deck"])]))),128))])):i("",!0)])])):i("",!0),r("div",ve,[e.activeDeck.id?i("",!0):(c(),a("button",{key:0,"data-bs-toggle":"modal","data-bs-target":"#deck-form",class:"deckText col-2 createButton",onClick:n[1]||(n[1]=b((...o)=>e.setEditable&&e.setEditable(...o),["prevent"]))}," CREATE ")),e.activeDeck.id?(c(),a("button",{key:1,class:"deckText square col-1 deleteButton",onClick:n[2]||(n[2]=b((...o)=>e.deleteDeck&&e.deleteDeck(...o),["prevent"]))}," DELETE ")):i("",!0),e.activeDeck.id?(c(),a("button",_e," EDIT ")):i("",!0)])]),u(E)],64)}const ge=P(W,[["render",ue],["__scopeId","data-v-14ba3a98"]]);export{ge as default};
