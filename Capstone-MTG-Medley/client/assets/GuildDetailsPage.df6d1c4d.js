import{J as k,A as t,l as h,_ as O,o as s,a as c,b as e,d,g as r,F as I,f as C,t as p,K as _,E as n,h as j,i as b,P as g,M as z,L as T,N as A,O as F,Q as V,v as E,r as y,e as R,u as L,R as q,z as J,B as W}from"./index.9f11d40c.js";class K{async getGuildMembers(i){const m=await k.get(`/api/guilds/${i}/members`);t.members=m.data,h.log(m.data)}async joinGuild(i){h.log(i);const m=await k.post("/api/members",i);t.members.push(m.data),t.activeGuild.members++}async removeFromGuild(i){await k.delete(`/api/members/${i}`),t.members=t.members.filter(m=>m.id!=i),t.activeGuild.members--}}const D=new K;const M={setup(){const l=R(),i=L();async function m(){try{await q.getGuildById(l.params.guildId),h.log(t.activeGuild)}catch(a){h.error("[getting guild by id]",a),g.error(a)}}async function o(){try{await D.getGuildMembers(l.params.guildId)}catch(a){h.error("[getting guild members]",a),g.error(a)}}return j(()=>{m(),o()}),{locations:b(()=>t.locations),message:b(()=>t.messages),activeGuild:b(()=>t.activeGuild),members:b(()=>t.members),guilds:b(()=>t.guilds),cover:b(()=>{var a;return`url(${(a=t.activeGuild)==null?void 0:a.coverImg})`}),cardImg:b(()=>{var a;return`url(${(a=t.activeGuild)==null?void 0:a.cardImg})`}),userAddress:b(()=>t.account.location),isMember:b(()=>!!t.members.find(a=>a.accountId==t.account.id)),async joinGuild(){try{let a={guildId:t.activeGuild.id,accountId:t.account.id};await D.joinGuild(a),g.success(`You've joined the ${t.activeGuild.name} Guild`),h.log(t.members)}catch(a){h.error("[joining guild]",a)}},async removeFromGuild(){try{if(!await g.confirm(`Are you sure you want to leave the ${t.activeGuild.name} Guild?`))return;const w=t.members.find(G=>G.accountId==t.account.id);await D.removeFromGuild(w.id),i.push({name:"Guild"})}catch(a){h.error("[removing from guild]",a),g.error(a)}},scrollLeft(){let a=document.querySelector(".guild-cards-container");scrollPosition.value>100&&(scrollPosition.value-=500),a.scrollTo({left:scrollPosition.value,behavior:"smooth"})},scrollRight(){let a=document.querySelector(".guild-cards-container");scrollPosition.value<1501&&(scrollPosition.value+=500),a.scrollTo({left:scrollPosition.value,behavior:"smooth"})}}},components:{Member:z,GuildChat:T,ClearNavBar:A,Navbar:F,MainMap:V}},x=()=>{E(l=>({"2d1b85f4":l.cover,"3db9dc22":l.cardImg}))},S=M.setup;M.setup=S?(l,i)=>(x(),S(l,i)):x;const Q=M,v=l=>(J("data-v-f186cc4f"),l=l(),W(),l),U={class:"row gruul p-5"},Y={class:"col-md-4"},H={key:0,class:"btn",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#chat-off-canvas","aria-controls":"chat-off-canvas"},X=v(()=>e("h4",{class:"my-2 mx-3"},"Guild Members",-1)),Z={class:"d-flex"},$={class:"col-md-4 text-center"},ee={class:"col-md-4 text-end"},ae=v(()=>e("i",{class:"mdi mdi-plus fs-3"},null,-1)),te=v(()=>e("span",{class:"fs-5"},"Join Guild",-1)),oe=[ae,te],se=v(()=>e("i",{class:"mdi mdi-minus fs-3"},null,-1)),ce=v(()=>e("span",{class:"fs-5"},"Leave Guild",-1)),ie=[se,ce],de={class:"col-md-12"},ne={class:"row justify-content-evenly"},le={class:"col-md-6 azorius-deck"},re={class:"accordion mt-3",id:"accordionExample"},ue={class:"accordion-item"},_e={class:"accordion-header",id:"headingOne"},me={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},fe={id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},be={class:"accordion-body"},he={class:"d-flex"},ve=n(" Starter Deck: "),pe={class:"ms-3"},ge={key:0},ye=n(" Gruul Wildling "),Ge={key:1},ke=n(" Simic Mutology "),Ie={key:2},De=n(" Charge of the Boros "),Me={key:3},we=n(" Golgari Deathcreep "),Ce={key:4},xe=n(" Izzet Gizmometry "),Se={key:5},Be=n(" Code of the Orzhov "),Pe={key:6},Ne=n(" Selesnya United "),Oe={key:7},je=n(" Rakdos Bloodsport "),ze={key:8},Te=n(" Dimir Intrigues "),Ae={key:9},Fe=n(" Azorius Ascendant "),Ve={class:"accordion-item"},Ee=v(()=>e("h2",{class:"accordion-header",id:"headingTwo"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}," Map results ")],-1)),Re={id:"collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},Le={class:"accordion-body limit-size"},qe={key:0},Je=["location"],We=v(()=>e("br",null,null,-1)),Ke={class:"col-md-6"};function Qe(l,i,m,o,a,w){const G=y("ClearNavBar"),B=y("ChatOffcanvas"),P=y("Member"),u=y("router-link"),N=y("MainMap");return s(),c(I,null,[e("header",null,[d(G)]),e("main",U,[e("section",Y,[o.isMember==!0?(s(),c("button",H," Chat With Guild Members ")):r("",!0),d(B),X,e("div",Z,[(s(!0),c(I,null,C(o.members,f=>(s(),c("div",{key:f.id},[d(P,{member:f},null,8,["member"])]))),128))])]),e("section",$,[e("h1",null,p(o.activeGuild.name),1)]),e("section",ee,[o.isMember==!1?(s(),c("button",{key:0,class:"btn",onClick:i[0]||(i[0]=f=>o.joinGuild())},oe)):(s(),c("button",{key:1,class:"btn",onClick:i[1]||(i[1]=f=>o.removeFromGuild())},ie))]),e("div",de,[e("div",ne,[e("section",le,[e("div",re,[e("div",ue,[e("h2",_e,[e("button",me,[e("h4",null,p(o.activeGuild.name)+" Background ",1)])]),e("div",fe,[e("div",be,[e("span",he,[ve,e("p",pe,[o.activeGuild.id=="633f67b879b4cee7da9c9829"?(s(),c("div",ge,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fbd9a9268b4aaceff2c3b"}}},{default:_(()=>[ye]),_:1})])):r("",!0),o.activeGuild.id=="633f676979b4cee7da9c981b"?(s(),c("div",Ge,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fd64f9268b4aaceff30ff"}}},{default:_(()=>[ke]),_:1})])):r("",!0),o.activeGuild.id=="633f670e79b4cee7da9c97f9"?(s(),c("div",Ie,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fd8df9268b4aaceff31a1"}}},{default:_(()=>[De]),_:1})])):r("",!0),o.activeGuild.id=="633f669e79b4cee7da9c97eb"?(s(),c("div",Me,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fdc9d9268b4aaceff32b4"}}},{default:_(()=>[we]),_:1})])):r("",!0),o.activeGuild.id=="633f5db679b4cee7da9c97c5"?(s(),c("div",Ce,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fccb39268b4aaceff2fbe"}}},{default:_(()=>[xe]),_:1})])):r("",!0),o.activeGuild.id=="633f5cba79b4cee7da9c97ad"?(s(),c("div",Se,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fd25f9268b4aaceff302c"}}},{default:_(()=>[Be]),_:1})])):r("",!0),o.activeGuild.id=="633f5c3e79b4cee7da9c9795"?(s(),c("div",Pe,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fde9a9268b4aaceff3328"}}},{default:_(()=>[Ne]),_:1})])):r("",!0),o.activeGuild.id=="633f5bb579b4cee7da9c9787"?(s(),c("div",Oe,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fd78c9268b4aaceff3149"}}},{default:_(()=>[je]),_:1})])):r("",!0),o.activeGuild.id=="633f5ad479b4cee7da9c976f"?(s(),c("div",ze,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fdb1a9268b4aaceff323a"}}},{default:_(()=>[Te]),_:1})])):r("",!0),o.activeGuild.id=="633f5a6579b4cee7da9c9757"?(s(),c("div",Ae,[d(u,{to:{name:"DeckDetails",params:{deckId:"633fd3eb9268b4aaceff305b"}}},{default:_(()=>[Fe]),_:1})])):r("",!0)])]),n(" "+p(o.activeGuild.background),1)])])]),e("div",Ve,[Ee,e("div",Re,[e("div",Le,[o.locations==null?(s(),c("p",qe," Please search for locations ")):(s(!0),c(I,{key:1},C(o.locations,f=>(s(),c("ul",{key:f.name},[e("li",{location:f},[n(p(f.name)+" ",1),We,n(" "+p(f.formatted_address),1)],8,Je)]))),128))])])])])]),e("section",Ke,[d(N)])])])])],64)}const Ye=O(Q,[["render",Qe],["__scopeId","data-v-f186cc4f"]]);export{Ye as default};
